# Рекомендации для фронтенд-разработчика

## Структура проекта

Создайте папку `frontend` в корне проекта `url_shortener` (на одном уровне с `url_shortener_service`):

```
url_shortener/
├── url_shortener_service/  (backend)
└── frontend/                (ваш проект)
    ├── index.html
    ├── css/
    │   └── style.css
    ├── js/
    │   ├── api.js          (работа с API)
    │   ├── ui.js           (управление интерфейсом)
    │   ├── validation.js   (валидация форм)
    │   └── utils.js        (вспомогательные функции)
    └── assets/
        └── (изображения, иконки)
```

## Архитектура (Best Practices)

### Разделение ответственности

1. **HTML** - только структура, без логики
2. **CSS** - стили в отдельных файлах, используйте CSS переменные для цветов
3. **JavaScript** - модульная структура:
   - `api.js` - все запросы к серверу
   - `ui.js` - обновление DOM, показ/скрытие элементов
   - `validation.js` - проверка URL перед отправкой
   - `utils.js` - функции-помощники (копирование в буфер, форматирование)

### Принципы написания кода

- Используйте `const` и `let`, избегайте `var`
- Разбивайте функции на маленькие, каждая делает одну вещь
- Используйте async/await для работы с API
- Обрабатывайте ошибки через try/catch
- Комментируйте сложную логику

### Пример структуры api.js:

```javascript
const API_BASE_URL = 'http://localhost:8080';

class ApiService {
    async createShortUrl(longUrl) {
        try {
            const response = await fetch(`${API_BASE_URL}/url`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ url: longUrl })
            });
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            return await response.json();
        } catch (error) {
            throw new Error(`Failed to create short URL: ${error.message}`);
        }
    }
}

export default new ApiService();
```

## Дизайн

### Рекомендации по UI/UX

1. **Минималистичный дизайн** - фокус на функциональности
2. **Цветовая схема:**
   - Основной цвет: синий (#2563eb) или фиолетовый (#7c3aed)
   - Фон: светлый (#f9fafb) или темный (#111827) для темной темы
   - Акцент: зеленый для успеха (#10b981), красный для ошибок (#ef4444)

3. **Компоненты:**
   - Большое поле ввода URL с placeholder
   - Кнопка "Сократить" с иконкой
   - Область для отображения результата с кнопкой копирования
   - Список созданных ссылок (если реализуете историю)

4. **Анимации:**
   - Плавное появление результата (fade-in)
   - Анимация загрузки при запросе
   - Hover-эффекты на кнопках

5. **Адаптивность:**
   - Mobile-first подход
   - Минимум 320px ширина
   - Крупные кнопки для мобильных (минимум 44x44px)

## Фичи для реализации

### Базовые (обязательные)

1. **Форма создания короткой ссылки**
   - Поле ввода URL
   - Валидация URL на клиенте
   - Кнопка отправки
   - Отображение результата

2. **Копирование ссылки в буфер обмена**
   - Кнопка "Копировать"
   - Уведомление об успешном копировании
   - Визуальная обратная связь

3. **Обработка ошибок**
   - Показ сообщений об ошибках
   - Валидация пустого поля
   - Обработка сетевых ошибок

### Продвинутые (для изучения JS)

4. **История созданных ссылок**
   - Сохранение в localStorage
   - Отображение списка последних ссылок
   - Удаление из истории
   - Поиск по истории

5. **Статистика кликов** (требует доработки бэкенда)
   - Счетчик переходов по ссылке
   - График популярности ссылок

6. **QR-код для короткой ссылки**
   - Генерация QR-кода через библиотеку
   - Скачивание QR-кода

7. **Кастомные короткие ссылки**
   - Поле для ввода желаемого hash
   - Проверка доступности

8. **Экспорт истории**
   - Экспорт в JSON/CSV
   - Скачивание файла

9. **Темная тема**
   - Переключатель темы
   - Сохранение выбора в localStorage

10. **Аналитика ссылок**
    - Показ даты создания
    - Время жизни ссылки
    - Визуализация данных

## Учебные задания на JavaScript

### Уровень 1: Основы

**Задание 1: Валидация URL**
- Создайте функцию `validateUrl(url)`, которая проверяет формат URL
- Используйте регулярные выражения
- Показывайте разные сообщения для разных ошибок

**Задание 2: Работа с DOM**
- Создайте функцию для динамического добавления ссылок в список
- Реализуйте удаление элементов по клику
- Добавьте анимацию появления/исчезновения

**Задание 3: LocalStorage**
- Сохраняйте историю ссылок в localStorage
- Загружайте историю при загрузке страницы
- Реализуйте очистку истории

### Уровень 2: Работа с API

**Задание 4: Async/Await**
- Перепишите все fetch-запросы на async/await
- Добавьте обработку ошибок через try/catch
- Реализуйте retry-логику при сетевых ошибках

**Задание 5: Loading States**
- Показывайте индикатор загрузки во время запроса
- Блокируйте форму на время запроса
- Добавьте таймаут для запросов (5 секунд)

**Задание 6: Debounce для валидации**
- Реализуйте валидацию URL с задержкой (debounce)
- Показывайте подсказки во время ввода
- Валидируйте только после остановки ввода на 500ms

### Уровень 3: Продвинутые фичи

**Задание 7: Копирование в буфер**
- Реализуйте копирование через Clipboard API
- Показывайте toast-уведомление при успехе
- Обрабатывайте ошибки копирования

**Задание 8: Генерация QR-кода**
- Используйте библиотеку qrcode.js
- Генерируйте QR-код для каждой короткой ссылки
- Добавьте возможность скачать QR-код

**Задание 9: Поиск и фильтрация**
- Реализуйте поиск по истории ссылок
- Фильтрацию по дате создания
- Сортировку (по дате, популярности)

**Задание 10: Экспорт данных**
- Создайте функцию экспорта в JSON
- Реализуйте скачивание файла через Blob API
- Добавьте экспорт в CSV формат

### Уровень 4: Архитектура

**Задание 11: Модульная структура**
- Разбейте код на ES6 модули
- Используйте import/export
- Создайте классы для основных компонентов

**Задание 12: Обработка событий**
- Используйте Event Delegation для списков
- Создайте кастомные события
- Реализуйте паттерн Observer для обновления UI

**Задание 13: Кеширование**
- Кешируйте результаты запросов
- Проверяйте кеш перед новым запросом
- Реализуйте TTL для кеша

**Задание 14: Офлайн режим**
- Используйте Service Worker (опционально)
- Сохраняйте запросы при отсутствии сети
- Отправляйте при восстановлении соединения

### Уровень 5: Продвинутые техники

**Задание 15: Анимации на Canvas**
- Создайте анимацию загрузки на Canvas API
- Реализуйте визуализацию процесса создания ссылки

**Задание 16: Drag & Drop**
- Позвольте перетаскивать ссылки в списке
- Изменяйте порядок через drag & drop
- Сохраняйте новый порядок

**Задание 17: Web Workers**
- Вынесите генерацию QR-кодов в Web Worker
- Обрабатывайте большие объемы данных в фоне

**Задание 18: IndexedDB**
- Замените localStorage на IndexedDB для больших данных
- Реализуйте полнотекстовый поиск
- Добавьте пагинацию для истории

## Полезные библиотеки (опционально)

- **qrcode.js** - генерация QR-кодов
- **Chart.js** - графики для статистики
- **Animate.css** - готовые CSS анимации
- **SweetAlert2** - красивые модальные окна

## Чеклист перед сдачей

- [ ] Код разбит на модули
- [ ] Все функции имеют понятные имена
- [ ] Обработаны все возможные ошибки
- [ ] Валидация работает корректно
- [ ] Адаптивный дизайн для мобильных
- [ ] История сохраняется между сессиями
- [ ] Копирование в буфер работает
- [ ] Нет ошибок в консоли браузера
- [ ] Код закомментирован где необходимо

## Советы по обучению

1. **Начните с простого** - сначала сделайте базовую версию, потом добавляйте фичи
2. **Изучайте на практике** - каждый новый JS-концепт применяйте в проекте
3. **Используйте консоль** - console.log() ваш лучший друг для отладки
4. **Читайте документацию** - MDN Web Docs отличный ресурс
5. **Экспериментируйте** - пробуйте разные подходы, не бойтесь ошибок

## Полезные ресурсы

- MDN Web Docs: https://developer.mozilla.org/
- JavaScript.info: https://javascript.info/
- Can I Use: https://caniuse.com/ (проверка поддержки браузерами)

